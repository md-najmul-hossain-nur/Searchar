<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Searchar</title>
  <meta name="viewport" content="width=1644, initial-scale=1">
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://accounts.google.com/gsi/client" async defer></script>
 <!-- Facebook SDK -->
  <script async defer crossorigin="anonymous"
    src="https://connect.facebook.net/en_US/sdk.js"></script>
    <link rel="stylesheet" href="../css/login.css">
</head>
<body>
  <header class="navbar">
  <div class="navbar-logo">
  <img src="../Images/logo.png" alt="SEARCHAR Logo" class="navbar-logo-img" id="logo" />
</div>
    <nav class="navbar-menu">
     
        
    </nav>
    <div class="navbar-actions">
    
    </div>
  </header>
  <div class="bubble-background"></div>

 <!-- MAIN CONTAINER -->
  <div id="container" class="container">

    <!-- FORM SECTION -->
    <div class="row">

      <!-- SIGN UP -->
      <div class="col align-items-center flex-col sign-up">
        <div class="form-wrapper align-items-center" style="  max-width: 800px;">
          <div class="form sign-up" >

            <!-- Role Selection -->
            <div class="input-group">
              <label for="role">Select Your Role:</label>
              <select id="role" onchange="showForm()">
                <option value="">-- Select Role --</option>
                <option value="user">User</option>
                <option value="police">Policeman</option>
                <option value="volunteer">Volunteer</option>
                <option value="contributor">Camera Contributor</option>
              </select>
            </div>

            <!-- Dynamic Forms Container -->
            <div id="dynamicForm"></div>
<!-- Map Modal -->
<div id="mapModal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.5); justify-content:center; align-items:center; z-index:9999;">
  <div style="position:relative; width:90%; max-width:600px; height:400px; background:white; padding:10px; border-radius:10px;">
    <div id="map" style="height:100%;"></div>
    <button onclick="closeMap()" style="position:absolute; top:10px; right:10px;">Close</button>
  </div>
</div>

            <p>
              <b onclick="toggle()" class="pointer">
                <span style="display:inline-block;vertical-align:middle;">&#8592;</span>
                Back
              </b>
            </p>
          </div>
        </div>
      </div>

      <!-- END SIGN UP -->
			<!-- SIGN IN -->
<!-- SIGN IN -->
<div class="col align-items-center flex-col sign-in">
<div class="form-wrapper align-items-center" style="margin-top: 130px;">

    <form class="form sign-in" action="../Php/login.php" method="POST">

      <!-- Social Login Buttons -->
      <div class="social-login-buttons" style="margin-bottom: 20px;">
        <button type="button" class="social-btn fb-btn" style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
          <img src="../Images/facebook.png" alt="Facebook" class="social-icon" style="width: 20px; height: 20px;" />
          Sign in with Facebook
        </button>
        <button type="button" class="google" style="display: flex; align-items: center; gap: 10px;">
          <img src="../Images/google.png" alt="Google" class="social-icon" style="width: 20px; height: 20px;" />
          Sign in with Google
        </button>
      </div>

      <!-- Role Selection -->
      <div class="input-group">
        <label for="role" style="margin-bottom: 6px;">Select Your Role:</label>
        <select id="role" name="role" required>
          <option value="">-- Select Role --</option>
          <option value="user">User</option>
          <option value="police">Policeman</option>
          <option value="volunteer">Volunteer</option>
          <option value="contributor">Camera Contributor</option>
        </select>
      </div>

      <!-- Input Fields -->
      <div class="input-group">
        <i class='bx bxs-user'></i>
        <input type="text" name="emailOrPhone" placeholder="Email or Phone number" required>
      </div>
      <div class="input-group">
        <i class='bx bxs-lock-alt'></i>
        <input type="password" name="password" placeholder="Password" required>
      </div>

      <!-- Sign In Button -->
      <button type="submit">
        Sign in
      </button>

      <!-- Sign Up Prompt -->
      <p></p>
      <p>
        <span>Don't have an account?</span>
        <b onclick="toggle()" class="pointer">Sign up here</b>
      </p>
    </form>
  </div>
</div>


  <div class="form-wrapper">
    <!-- Additional content (if needed) -->
  </div>
</div>


			<!-- END SIGN IN -->
		</div>
		<!-- END FORM SECTION -->
		<!-- CONTENT SECTION -->
		<div class="row content-row">
			<!-- SIGN IN CONTENT -->
			<div class="col align-items-center flex-col">
				<div class="text sign-in">
					<h2>
						WELCOME
					</h2>
	
				</div>
				<div class="img sign-in">

				</div>
			</div>
			<!-- END SIGN IN CONTENT -->
			<!-- SIGN UP CONTENT -->
			<div class="col align-items-center flex-col">
				<div class="img sign-up">
				
				</div>
				<div class="text sign-up">
					<h2>
                      JOIN WITH US
					</h2>
	
				</div>
				<div class="img sign-up">

				</div>
			</div>
			<!-- END SIGN UP CONTENT -->
		</div>
		<!-- END CONTENT SECTION -->
	</div>

    <script src="../javascrpit/login.js"></script>
</body>

<script>
const urlParams = new URLSearchParams(window.location.search);

// Error messages
if(urlParams.get('error') === 'empty') {
    alert("Please fill in all fields!");
} else if(urlParams.get('error') === 'role') {
    alert("Invalid role selected!");
} else if(urlParams.get('error') === 'no_account') {
    alert("No account found! Please sign up.");
} else if(urlParams.get('error') === 'wrong_password') {
    alert("Password is incorrect!");
} else if(urlParams.get('error') === 'db') {
    alert("Database error! Please try again later.");
}

// Success message (for redirect after login)
if(urlParams.get('login') === 'success') {
    alert("Login successful!");
}
</script>

</html>